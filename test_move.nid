void main() {
  // Setup initial variables that will be used.
  int player_one_x = 80;
  int player_one_y = 0;
  int player_two_x = 420;
  int player_two_y = 0;

  // Move them to our allocated memory that compiler isnt allowed to overwrite
  move_to(player_one_x, 500);
  move_to(player_one_y, 501);
  move_to(player_two_x, 502);
  move_to(player_two_y, 503);


  // Set initial character positions on screen
  asm {
    mvix, 500
    mviy, 501
    mviix, 502
    mviiy, 503
  }

  while(true) {
    // Move player one to the right
    if (player_one_x < 560) {
      player_one_x = player_one_x + 2;
      asm { 
        mvix, 500
        rflip, r1 
      }
    }

    // Move player two to the left
    if (player_two_x > 0) {
      player_two_x = player_two_x - 2;
      asm { 
        mviix, 502
        lflip, r2 
      }
    }

    sleep(10);
  }
}
